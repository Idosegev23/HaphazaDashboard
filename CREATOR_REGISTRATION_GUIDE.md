# מדריך טופס ההרשמה החדש למשפיענים

## סקירה כללית

טופס ההרשמה החדש למשפיענים הוא תהליך רב-שלבי מקיף שאוסף את כל המידע הדרוש מהמשפיען בצורה נוחה ומסודרת.

---

## 🎯 מבנה הטופס - 5 שלבים

### שלב 1️⃣: פרטים בסיסיים
**מטרה:** יצירת חשבון המשתמש

**שדות:**
- ✅ שם מלא (חובה)
- ✅ אימייל (חובה)
- ✅ סיסמה (חובה, מינימום 6 תווים)
- ✅ אימות סיסמה (חובה)

**Validations:**
- כל השדות מלאים
- הסיסמאות תואמות
- סיסמה לפחות 6 תווים

---

### שלב 2️⃣: פרטים אישיים
**מטרה:** הבנת הפרופיל הדמוגרפי

**שדות:**
- ✅ טווח גילאים (dropdown):
  - 18-24
  - 25-34
  - 35-44
  - 45-54
  - 55+
  
- ✅ מגדר (dropdown):
  - זכר
  - נקבה
  - אחר
  - מעדיף/ה לא לציין

- ✅ עיר (טקסט חופשי)

**Validations:**
- כל השדות מלאים

---

### שלב 3️⃣: תחומי עניין ותעסוקה
**מטרה:** הבנת התחומים שהמשפיען יוצר בהם תוכן

**תחומי עניין (בחירה מרובה - מינימום 1):**
- אופנה
- יופי וקוסמטיקה
- כושר ובריאות
- אוכל ומתכונים
- טכנולוגיה
- משחקים
- טיולים ונופש
- לייפסטייל
- הורות וילדים
- עיצוב הבית
- DIY ויצירה
- עסקים ויזמות
- חינוך
- בידור
- ספורט
- מוזיקה
- אמנות
- ספרים

**מצב תעסוקתי (בחירה מרובה - מינימום 1):**
- סטודנט/ית
- עובד/ת במשרה מלאה
- עובד/ת במשרה חלקית
- פרילנסר/ית
- יזם/ית
- הורה במשרה מלאה
- פנסיונר/ית
- אחר

**UX:**
- כפתורים עם toggle
- כפתור נבחר: רקע צהוב, גבול צהוב
- כפתור לא נבחר: רקע כהה, גבול אפור

**Validations:**
- לפחות תחום עניין אחד
- לפחות מצב תעסוקתי אחד

---

### שלב 4️⃣: פלטפורמות סושיאל
**מטרה:** הבנת נוכחות הדיגיטלית של המשפיען

**פלטפורמות זמינות:**
- 🎵 TikTok
- 📷 Instagram
- 📹 YouTube
- 👍 Facebook
- 🐦 Twitter/X
- 💼 LinkedIn
- 🧵 Threads

**לכל פלטפורמה:**
- שם משתמש/@ (חובה)
- מספר עוקבים (חובה)

**UX:**
1. בחירת פלטפורמות - כפתורים עם אייקונים
2. פלטפורמה נבחרת - נפתחים שדות למילוי
3. אפשרות להסיר פלטפורמה
4. מינימום פלטפורמה אחת

**Validations:**
- לפחות פלטפורמה אחת
- כל הפלטפורמות הנבחרות עם שם משתמש ומספר עוקבים

---

### שלב 5️⃣: תיק עבודות (אופציונלי)
**מטרה:** הצגת עבודות קודמות

**שדות:**
- קישורים לעבודות (URL)
- אפשרות להוסיף מספר קישורים
- אפשרות להסיר קישורים
- שדה אחד לפחות תמיד פתוח

**UX:**
- כפתור "הוסף קישור נוסף"
- כפתור "הסר" לכל קישור (מלבד הראשון אם הוא היחיד)

**Validations:**
- אין - זה שלב אופציונלי

---

## 🎨 עיצוב ו-UX

### Progress Bar
- מופיע בראש הדף
- צהוב (#f2cc0d)
- ממלא לפי אחוז ההתקדמות (20%, 40%, 60%, 80%, 100%)

### כפתורי ניווט
**"חזור":**
- מופיע משלב 2 ואילך
- בצד שמאל (RTL)
- עיצוב: רקע כהה, גבול אפור

**"המשך":**
- שלבים 1-4
- בצד ימין (RTL)
- עיצוב: צהוב, טקסט שחור

**"השלם הרשמה":**
- שלב 5 בלבד
- עיצוב: צהוב, טקסט שחור
- מצב loading: "מבצע הרשמה..."

### אנימציות
- Fade-in לכל שלב
- Smooth transitions
- Progress bar עם transition

### הודעות שגיאה
- מופיעות מעל התוכן
- רקע אדום שקוף
- גבול אדום
- טקסט אדום בהיר

---

## 💾 שמירת הנתונים

### מה נשמר ב-Database:

**1. auth.users**
```json
{
  "email": "...",
  "encrypted_password": "...",
  "raw_user_meta_data": {
    "display_name": "...",
    "user_type": "creator"
  }
}
```

**2. users_profiles**
```json
{
  "user_id": "uuid",
  "display_name": "שם מלא",
  "email": "email@example.com",
  "language": "he"
}
```

**3. creators**
```json
{
  "user_id": "uuid",
  "age_range": "25-34",
  "gender": "male",
  "country": "ישראל",
  "niches": ["אופנה", "לייפסטייל"],
  "occupations": ["פרילנסר/ית"],
  "platforms": {
    "Instagram": {
      "handle": "@username",
      "followers": 10000
    },
    "TikTok": {
      "handle": "@username",
      "followers": 50000
    }
  },
  "portfolio_links": ["https://...", "https://..."]
}
```

**4. memberships**
```json
{
  "user_id": "uuid",
  "role": "creator",
  "entity_type": null,
  "entity_id": null,
  "is_active": true
}
```

---

## ✅ Validation Rules

### שלב 1:
```typescript
- email: required, email format
- password: required, min 6 chars
- confirmPassword: required, must match password
- displayName: required
```

### שלב 2:
```typescript
- ageRange: required, from dropdown
- gender: required, from dropdown
- city: required, text
```

### שלב 3:
```typescript
- niches: array, min 1 item
- occupations: array, min 1 item
```

### שלב 4:
```typescript
- platforms: array, min 1 platform
- each platform:
  - handle: required, text
  - followers: required, number (formatted)
```

### שלב 5:
```typescript
- portfolioLinks: array, optional
- each link: URL format (if not empty)
```

---

## 🔄 תהליך ההרשמה

```
1. משתמש ממלא שלב 1 → לוחץ "המשך"
   ↓
2. Validation → אם עבר → מעבר לשלב 2
   ↓
3. משתמש ממלא שלב 2 → לוחץ "המשך"
   ↓
4. Validation → אם עבר → מעבר לשלב 3
   ↓
5. משתמש בוחר תחומים ותעסוקה → לוחץ "המשך"
   ↓
6. Validation → אם עבר → מעבר לשלב 4
   ↓
7. משתמש מוסיף פלטפורמות → לוחץ "המשך"
   ↓
8. Validation → אם עבר → מעבר לשלב 5
   ↓
9. משתמש מוסיף קישורים (אופציונלי) → לוחץ "השלם הרשמה"
   ↓
10. שמירה ב-Database:
    - auth.signUp()
    - INSERT users_profiles
    - INSERT creators (with all data)
    - INSERT memberships
   ↓
11. הפניה ל-/creator/dashboard
```

---

## 📱 Responsive Design

### Desktop (>768px):
- Grid 2-3 עמודות לכפתורים
- שדות רחבים
- מרווחים גדולים

### Mobile (<768px):
- Grid עמודה אחת
- שדות מלאים ברוחב
- מרווחים קטנים יותר

---

## 🐛 Error Handling

### שגיאות אפשריות:

**שלב 1:**
- "יש למלא את כל השדות"
- "הסיסמאות לא תואמות"
- "הסיסמה חייבת להיות לפחות 6 תווים"
- "האימייל כבר קיים במערכת" (מ-Supabase)

**שלב 2:**
- "יש למלא את כל השדות"

**שלב 3:**
- "יש לבחור לפחות תחום עניין אחד ומצב תעסוקתי"

**שלב 4:**
- "יש להוסיף לפחות פלטפורמה אחת"
- "יש למלא את כל פרטי הפלטפורמות"

**שלב 5:**
- אין שגיאות - שלב אופציונלי

---

## 🎯 היתרונות של הטופס החדש

### ✅ למשתמש:
1. **מסודר** - כל שלב מתמקד בנושא אחד
2. **ברור** - progress bar מראה איפה הוא נמצא
3. **גמיש** - אפשרות לחזור ולערוך
4. **נוח** - בחירות מרובות עם כפתורים
5. **מהיר** - לא צריך דף onboarding נוסף

### ✅ למערכת:
1. **מידע עשיר** - כל הפרטים הדרושים
2. **מובנה** - נתונים מסודרים ב-JSON
3. **ניתן לסינון** - קל לחפש לפי תחומים/פלטפורמות
4. **Validation חזק** - מניעת נתונים לא תקינים
5. **אין דף onboarding נוסף** - פחות מורכבות

---

## 🚀 השקה והטמעה

### לפני השקה:
- [x] Build הצליח
- [x] כל הוולידציות עובדות
- [ ] בדיקה ידנית מלאה
- [ ] בדיקת responsive
- [ ] בדיקת accessibility

### אחרי השקה:
- [ ] מעקב אחר שיעור השלמה לכל שלב
- [ ] זיהוי נקודות נשירה
- [ ] איסוף feedback ממשתמשים
- [ ] שיפורים לפי נתונים

---

## 📊 Analytics מומלצים

### מדדים למעקב:
1. **שיעור השלמה לכל שלב** - איפה משתמשים עוזבים?
2. **זמן מילוי ממוצע** - כמה זמן לוקח למלא כל שלב?
3. **שגיאות נפוצות** - אילו שגיאות המשתמשים נתקלים בהן?
4. **שימוש ב-"חזור"** - כמה משתמשים חוזרים לערוך?
5. **פלטפורמות פופולריות** - אילו פלטפורמות הכי נפוצות?
6. **תחומי עניין פופולריים** - אילו niches הכי נבחרים?

---

## 🔧 תחזוקה עתידית

### הוספת תחום עניין חדש:
```typescript
// הוסף ל-NICHES array
const NICHES = [
  // ... existing
  "תחום חדש",
];
```

### הוספת פלטפורמה חדשה:
```typescript
const SOCIAL_PLATFORMS = [
  // ... existing
  { name: "NewPlatform", icon: "🆕" },
];
```

### שינוי טווחי גילאים:
```typescript
<option value="new-range">טווח חדש</option>
```

---

**סטטוס: ✅ מוכן לשימוש**
**גרסה: V1 - Multi-Step Registration**
**תאריך עדכון אחרון: {{ תאריך }}**
